{"version":3,"file":"index.js","sources":["../node_modules/is-hotkey/lib/index.js","../src/components.js","../src/editor.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * Constants.\n */\n\nvar IS_MAC = typeof window != 'undefined' && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n\nvar MODIFIERS = {\n  alt: 'altKey',\n  control: 'ctrlKey',\n  meta: 'metaKey',\n  shift: 'shiftKey'\n};\n\nvar ALIASES = {\n  add: '+',\n  break: 'pause',\n  cmd: 'meta',\n  command: 'meta',\n  ctl: 'control',\n  ctrl: 'control',\n  del: 'delete',\n  down: 'arrowdown',\n  esc: 'escape',\n  ins: 'insert',\n  left: 'arrowleft',\n  mod: IS_MAC ? 'meta' : 'control',\n  opt: 'alt',\n  option: 'alt',\n  return: 'enter',\n  right: 'arrowright',\n  space: ' ',\n  spacebar: ' ',\n  up: 'arrowup',\n  win: 'meta',\n  windows: 'meta'\n};\n\nvar CODES = {\n  backspace: 8,\n  tab: 9,\n  enter: 13,\n  shift: 16,\n  control: 17,\n  alt: 18,\n  pause: 19,\n  capslock: 20,\n  escape: 27,\n  ' ': 32,\n  pageup: 33,\n  pagedown: 34,\n  end: 35,\n  home: 36,\n  arrowleft: 37,\n  arrowup: 38,\n  arrowright: 39,\n  arrowdown: 40,\n  insert: 45,\n  delete: 46,\n  meta: 91,\n  numlock: 144,\n  scrolllock: 145,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  '\\'': 222\n};\n\nfor (var f = 1; f < 20; f++) {\n  CODES['f' + f] = 111 + f;\n}\n\n/**\n * Is hotkey?\n */\n\nfunction isHotkey(hotkey, options, event) {\n  if (options && !('byKey' in options)) {\n    event = options;\n    options = null;\n  }\n\n  if (!Array.isArray(hotkey)) {\n    hotkey = [hotkey];\n  }\n\n  var array = hotkey.map(function (string) {\n    return parseHotkey(string, options);\n  });\n  var check = function check(e) {\n    return array.some(function (object) {\n      return compareHotkey(object, e);\n    });\n  };\n  var ret = event == null ? check : check(event);\n  return ret;\n}\n\nfunction isCodeHotkey(hotkey, event) {\n  return isHotkey(hotkey, event);\n}\n\nfunction isKeyHotkey(hotkey, event) {\n  return isHotkey(hotkey, { byKey: true }, event);\n}\n\n/**\n * Parse.\n */\n\nfunction parseHotkey(hotkey, options) {\n  var byKey = options && options.byKey;\n  var ret = {};\n\n  // Special case to handle the `+` key since we use it as a separator.\n  hotkey = hotkey.replace('++', '+add');\n  var values = hotkey.split('+');\n  var length = values.length;\n\n  // Ensure that all the modifiers are set to false unless the hotkey has them.\n\n  for (var k in MODIFIERS) {\n    ret[MODIFIERS[k]] = false;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var value = _step.value;\n\n      var optional = value.endsWith('?') && value.length > 1;\n\n      if (optional) {\n        value = value.slice(0, -1);\n      }\n\n      var name = toKeyName(value);\n      var modifier = MODIFIERS[name];\n\n      if (length === 1 || !modifier) {\n        if (byKey) {\n          ret.key = name;\n        } else {\n          ret.which = toKeyCode(value);\n        }\n      }\n\n      if (modifier) {\n        ret[modifier] = optional ? null : true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compare.\n */\n\nfunction compareHotkey(object, event) {\n  for (var key in object) {\n    var expected = object[key];\n    var actual = void 0;\n\n    if (expected == null) {\n      continue;\n    }\n\n    if (key === 'key' && event.key != null) {\n      actual = event.key.toLowerCase();\n    } else if (key === 'which') {\n      actual = expected === 91 && event.which === 93 ? 91 : event.which;\n    } else {\n      actual = event[key];\n    }\n\n    if (actual == null && expected === false) {\n      continue;\n    }\n\n    if (actual !== expected) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Utils.\n */\n\nfunction toKeyCode(name) {\n  name = toKeyName(name);\n  var code = CODES[name] || name.toUpperCase().charCodeAt(0);\n  return code;\n}\n\nfunction toKeyName(name) {\n  name = name.toLowerCase();\n  name = ALIASES[name] || name;\n  return name;\n}\n\n/**\n * Export.\n */\n\nexports.default = isHotkey;\nexports.isHotkey = isHotkey;\nexports.isCodeHotkey = isCodeHotkey;\nexports.isKeyHotkey = isKeyHotkey;\nexports.parseHotkey = parseHotkey;\nexports.compareHotkey = compareHotkey;\nexports.toKeyCode = toKeyCode;\nexports.toKeyName = toKeyName;","import styled from 'styled-components'\r\n\r\nexport const Button = styled.a`\r\n  cursor: pointer;\r\n  color: ${({ reversed, active }) =>\r\n    reversed ? (active ? 'white' : '#aaa') : active ? 'black' : '#ccc'};\r\n`\r\nexport const Icon = styled.span`\r\n  font-size: 18px;\r\n  vertical-align: text-bottom;\r\n`\r\n\r\nexport const Toolbar = styled.div`\r\n  position: sticky;\r\n  padding: 1px 18px 17px;\r\n  margin: 0 -20px;\r\n  border-bottom: 2px solid #eee;\r\n  margin-bottom: 20px;\r\n\r\n  & > * {\r\n    display: inline-block;\r\n  }\r\n\r\n  & > * + * {\r\n    margin-left: 15px;\r\n  }\r\n`\r\n","import React, { useCallback, useMemo, useState } from 'react'\r\nimport isHotkey from 'is-hotkey'\r\nimport { Editable, withReact, useSlate, Slate } from 'slate-react'\r\nimport { Editor, Transforms, createEditor } from 'slate'\r\nimport { withHistory } from 'slate-history'\r\n\r\nimport { Button, Icon, Toolbar } from './components'\r\n\r\nconst HOTKEYS = {\r\n  'mod+b': 'bold',\r\n  'mod+i': 'italic',\r\n  'mod+u': 'underline',\r\n  'mod+`': 'code'\r\n}\r\n\r\nconst LIST_TYPES = ['numbered-list', 'bulleted-list']\r\n\r\nconst RichTextExample = () => {\r\n  const [value, setValue] = useState(initialValue)\r\n  const renderElement = useCallback((props) => <Element {...props} />, [])\r\n  const renderLeaf = useCallback((props) => <Leaf {...props} />, [])\r\n  const editor = useMemo(() => withHistory(withReact(createEditor())), [])\r\n\r\n  return (\r\n    <Slate editor={editor} value={value} onChange={(value) => setValue(value)}>\r\n      <Toolbar>\r\n        <MarkButton format='bold'>Bold</MarkButton>\r\n        <MarkButton format='italic'>Italic</MarkButton>\r\n        <MarkButton format='code'>Underline</MarkButton>\r\n      </Toolbar>\r\n      <Editable\r\n        renderElement={renderElement}\r\n        renderLeaf={renderLeaf}\r\n        placeholder='Enter some rich textâ€¦'\r\n        spellCheck\r\n        autoFocus\r\n        onKeyDown={(event) => {\r\n          for (const hotkey in HOTKEYS) {\r\n            if (isHotkey(hotkey, event)) {\r\n              event.preventDefault()\r\n              const mark = HOTKEYS[hotkey]\r\n              toggleMark(editor, mark)\r\n            }\r\n          }\r\n        }}\r\n      />\r\n    </Slate>\r\n  )\r\n}\r\n\r\nconst toggleBlock = (editor, format) => {\r\n  const isActive = isBlockActive(editor, format)\r\n  const isList = LIST_TYPES.includes(format)\r\n\r\n  Transforms.unwrapNodes(editor, {\r\n    match: (n) => LIST_TYPES.includes(n.type),\r\n    split: true\r\n  })\r\n\r\n  Transforms.setNodes(editor, {\r\n    type: isActive ? 'paragraph' : isList ? 'list-item' : format\r\n  })\r\n\r\n  if (!isActive && isList) {\r\n    const block = { type: format, children: [] }\r\n    Transforms.wrapNodes(editor, block)\r\n  }\r\n}\r\n\r\nconst toggleMark = (editor, format) => {\r\n  const isActive = isMarkActive(editor, format)\r\n\r\n  if (isActive) {\r\n    Editor.removeMark(editor, format)\r\n  } else {\r\n    Editor.addMark(editor, format, true)\r\n  }\r\n}\r\n\r\nconst isBlockActive = (editor, format) => {\r\n  const [match] = Editor.nodes(editor, {\r\n    match: (n) => n.type === format\r\n  })\r\n\r\n  return !!match\r\n}\r\n\r\nconst isMarkActive = (editor, format) => {\r\n  const marks = Editor.marks(editor)\r\n  return marks ? marks[format] === true : false\r\n}\r\n\r\nconst Element = ({ attributes, children, element }) => {\r\n  switch (element.type) {\r\n    case 'block-quote':\r\n      return <blockquote {...attributes}>{children}</blockquote>\r\n    case 'bulleted-list':\r\n      return <ul {...attributes}>{children}</ul>\r\n    case 'heading-one':\r\n      return <h1 {...attributes}>{children}</h1>\r\n    case 'heading-two':\r\n      return <h2 {...attributes}>{children}</h2>\r\n    case 'list-item':\r\n      return <li {...attributes}>{children}</li>\r\n    case 'numbered-list':\r\n      return <ol {...attributes}>{children}</ol>\r\n    default:\r\n      return <p {...attributes}>{children}</p>\r\n  }\r\n}\r\n\r\nconst Leaf = ({ attributes, children, leaf }) => {\r\n  if (leaf.bold) {\r\n    children = <strong>{children}</strong>\r\n  }\r\n\r\n  if (leaf.code) {\r\n    children = <code>{children}</code>\r\n  }\r\n\r\n  if (leaf.italic) {\r\n    children = <em>{children}</em>\r\n  }\r\n\r\n  if (leaf.underline) {\r\n    children = <u>{children}</u>\r\n  }\r\n\r\n  return <span {...attributes}>{children}</span>\r\n}\r\n\r\nconst BlockButton = ({ format, icon }) => {\r\n  const editor = useSlate()\r\n  return (\r\n    <Button\r\n      active={isBlockActive(editor, format)}\r\n      onMouseDown={(event) => {\r\n        event.preventDefault()\r\n        toggleBlock(editor, format)\r\n      }}\r\n    >\r\n      <Icon>{icon}</Icon>\r\n    </Button>\r\n  )\r\n}\r\n\r\nconst MarkButton = ({ format, children }) => {\r\n  const editor = useSlate()\r\n  return (\r\n    <Button\r\n      active={isMarkActive(editor, format)}\r\n      onMouseDown={(event) => {\r\n        event.preventDefault()\r\n        toggleMark(editor, format)\r\n      }}\r\n    >\r\n      {children}\r\n    </Button>\r\n  )\r\n}\r\n\r\nconst initialValue = [\r\n  {\r\n    type: 'paragraph',\r\n    children: [\r\n      { text: 'This is editable ' },\r\n      { text: 'rich', bold: true },\r\n      { text: ' text, ' },\r\n      { text: 'much', italic: true },\r\n      { text: ' better than a ' },\r\n      { text: '<textarea>', code: true },\r\n      { text: '!' }\r\n    ]\r\n  },\r\n  {\r\n    type: 'paragraph',\r\n    children: [\r\n      {\r\n        text:\r\n          \"Since it's rich text, you can do things like turn a selection of text \"\r\n      },\r\n      { text: 'bold', bold: true },\r\n      {\r\n        text:\r\n          ', or add a semantically rendered block quote in the middle of the page, like this:'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    type: 'block-quote',\r\n    children: [{ text: 'A wise quote.' }]\r\n  },\r\n  {\r\n    type: 'paragraph',\r\n    children: [{ text: 'Try it out for yourself!' }]\r\n  }\r\n]\r\n\r\nexport default RichTextExample\r\n"],"names":["Button","styled","a","reversed","active","Icon","span","Toolbar","div","HOTKEYS","RichTextExample","useState","initialValue","value","setValue","renderElement","useCallback","props","React","renderLeaf","editor","useMemo","withHistory","withReact","createEditor","Slate","Editable","event","hotkey","isHotkey","preventDefault","mark","toggleMark","format","isActive","isMarkActive","Editor","removeMark","addMark","marks","Element","attributes","children","element","type","Leaf","leaf","bold","code","italic","underline","MarkButton","useSlate","text"],"mappings":"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"}